import{resetGame as t}from"./game.js";import"./dialogPolyfill.js";let r=!1,a=!1,l="easy",o=()=>{};const i=()=>{o();var e=t({isArtificialOponent:r,isArtificialX:a,onWin:p,onCatsGame:v,difficultyLevel:l})["endGame"];o=e},e=document.querySelector("#reset"),c=(e.addEventListener("click",i),document.querySelector("#game-settings-dialog"));var s=()=>{c.showModal();const e=u();d.addEventListener("click",()=>{f.checked=e.shouldUseArtificialOponent,[f,aiLetterToggle].forEach(e=>e.dispatchEvent(new Event("change"))),c.close()},{once:!0})};const n=document.querySelector("#open-settings"),d=document.querySelector("#cancel-settings"),g=(n.addEventListener("click",s),document.querySelector("#game-settings-form")),u=()=>{var e,t;let o=!1,r=!1,a="hard";for([e,t]of new FormData(g))"artificial-oponent"===e&&"on"===t&&(o=!0),"player-letter"===e&&"o"===t&&(r=!0),"difficulty-level"===e&&(a=t);return{shouldUseArtificialOponent:o,shouldArtificialBeX:r,difficultyLevel:a}},f=(c.addEventListener("submit",()=>{var{shouldUseArtificialOponent:e,shouldArtificialBeX:t,difficultyLevel:o}=u();r=e,a=t,l=o,i()}),document.querySelector("#ai-on-toggle")),m=(f.addEventListener("change",e=>{e.target.checked?e.target.closest(".toggle-wrapper").classList.add("checked"):e.target.closest(".toggle-wrapper").classList.remove("checked"),"ai-on-toggle"===e.target.id&&e.target.checked&&(g.querySelectorAll(".radio-btn-group").forEach(e=>{e.classList.remove("disabled")}),g.querySelectorAll('input[type="radio"]').forEach(e=>e.disabled=!1)),"ai-on-toggle"!==e.target.id||e.target.checked||(g.querySelectorAll(".radio-btn-group").forEach(e=>{e.classList.add("disabled")}),g.querySelectorAll('input[type="radio"]').forEach(e=>e.disabled=!0))}),document.querySelector("#message-dialog")),y=document.querySelector("#close-message-dialog"),h=(e,t,o="Close")=>{m.querySelector("h2").textContent=e,m.querySelector("p").textContent=t,y.textContent=o,m.showModal()};y.addEventListener("click",()=>m.close());const p=e=>{h("Gotchya 👌",e.toUpperCase()+" wins!","Try again")},v=()=>{h("Cat's Game 🐈","It's a cat's game!","Keep trying")};i(),s();