@import url("./toggle.css");

:root {
  --color-bg: #1e1e1e;
  --color-bg-hover: #2a2a2a;
  --color-1: #e9e9e9;
  --boder-1: 2px solid var(--color-1);
  --accent-1: #fe0000;
  --accent-2: #00a6ff;
}

* {
  font-family: "Nunito", sans-serif;
  color: var(--color-1);
}

html,
body {
  background-color: var(--color-bg);
  margin: 0;
  padding: 0;
}

main {
  margin: 0 auto;
  padding: 0;
  display: grid;
  height: 100vmax;
  max-height: -webkit-fill-available;
  grid-template-rows: 80% min-content;
  gap: 2rem;
}

button {
  cursor: pointer;
}

button:focus-visible {
  outline: none;
}

.tic-tac-toe-container {
  display: grid;
  grid-template-columns: repeat(3, calc(100% / 3));
  grid-template-rows: repeat(3, calc(100% / 3));
}

.tic-tac-toe-btn {
  border: 0;
  margin: 0;
  padding: 0;
  background-color: transparent;
  font-size: 4rem;
  color: var(--color-1);
}

.tic-tac-toe-btn:not([letter="x"]):not([letter="o"]):hover {
  background-color: var(--color-bg-hover);
}

.tic-tac-toe-btn[letter="x"],
.tic-tac-toe-btn[letter="o"] {
  cursor: not-allowed;
  animation: shadow-pulse 2s infinite ease-in-out, text-jump 0.5s ease-in-out;
}

.tic-tac-toe-btn[letter="x"] {
  --shadow-color: var(--accent-1);
}

.tic-tac-toe-btn[letter="o"] {
  --shadow-color: var(--accent-2);
}

@keyframes shadow-pulse {
  0% {
    text-shadow: 0px 0px 20px var(--shadow-color);
  }
  50% {
    text-shadow: 0px 0px 40px var(--shadow-color);
  }
  100% {
    text-shadow: 0px 0px 20px var(--shadow-color);
  }
}

@keyframes text-jump {
  0% {
    font-size: 0rem;
  }
  30% {
    font-size: 5rem;
  }
  100% {
    font-size: 4rem;
  }
}

.tic-tac-toe-btn:nth-child(2),
.tic-tac-toe-btn:nth-child(8) {
  border-left: var(--boder-1);
  border-right: var(--boder-1);
}
.tic-tac-toe-btn:nth-child(4),
.tic-tac-toe-btn:nth-child(6) {
  border-top: var(--boder-1);
  border-bottom: var(--boder-1);
}

.tic-tac-toe-btn:nth-child(5) {
  border: var(--boder-1);
}

.btn {
  border: 2px solid var(--color-1);
  color: var(--color-1);
  background-color: var(--color-bg);
  padding: 1rem 2rem;
  font-size: 1rem;
  cursor: pointer;
}

.reset-container {
  display: grid;
  gap: 1rem;
  justify-content: space-evenly;
  align-items: center;
}

.game-settings-form {
  display: grid;
  grid-template-columns: auto;
  justify-content: center;
  gap: 2rem;
}

.switch-and-label {
  display: grid;
  grid-template-columns: auto auto;
  justify-content: space-between;
  justify-items: center;
  align-items: center;
  gap: 1rem;
}

.form-btns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  justify-content: space-around;
  gap: 1rem;
}

.ai-on-toggle.toggle-wrapper.checked {
  --bg-1: var(--accent-1);
  --bg-2: var(--accent-2);
}

.ai-on-toggle .toggle-checkbox:checked + .toggle-circle {
  box-shadow: 0 0 calc(var(--toggle-width) / 10) var(--color-fore-1);
  border-color: var(--background-color);
}

.switch-and-label.disabled {
  visibility: hidden;
}

.switch-and-label:has(.disabled.ai-letter-toggle) {
  visibility: hidden;
}

@keyframes color-shift-border {
  0% {
    border-color: var(--accent-1);
    box-shadow: 0 0 calc(var(--toggle-width) / 10) var(--accent-1);
  }
  100% {
    border-color: var(--accent-2);
    box-shadow: 0 0 calc(var(--toggle-width) / 10) var(--accent-2);
  }
}
@keyframes color-shift-background {
  0% {
    background-color: var(--bg-1);
  }
  100% {
    background-color: var(--bg-2);
  }
}

.ai-letter-toggle .toggle-span {
  color: var(--color-bg);
}

.dialog {
  position: fixed;
  margin: 0;
  top: 50%;
  left: 50%;
  bottom: unset;
  max-width: 80vw;
  max-height: 80vh;
  min-height: 25vh;
  transform: translate(-50%, -50%);
  background-color: var(--color-bg);
}

.dialog::backdrop {
  background: rgba(0, 0, 0, 0.5);
}

.message-dialog {
  animation-name: bounce-6;
  animation-timing-function: ease;
  animation-duration: 1s;
}

.message-dialog p {
  font-size: 1.2rem;
  text-align: center;
}

@keyframes bounce-6 {
  0% {
    transform: scale(1, 1) translate(-50%, -50%);
  }
  10% {
    transform: scale(1.1, 0.9) translate(-50%, -50%);
  }
  30% {
    transform: scale(0.9, 1.1) translate(-50%, calc(-50% - 100px));
  }
  50% {
    transform: scale(1.05, 0.95) translate(-50%, -50%);
  }
  57% {
    transform: scale(1, 1) translate(-50%, calc(-50% - 7px));
  }
  64% {
    transform: scale(1, 1) translate(-50%, -50%);
  }
  100% {
    transform: scale(1, 1) translate(-50%, -50%);
  }
}

@media screen and (min-width: 300px) {
  .reset-container {
    grid-template-columns: repeat(2, minmax(min-content, 25%));
    gap: 2rem;
  }
}

@media screen and (min-width: 600px) {
  main {
    max-width: 80vmin;
    max-height: 100vh;
    align-content: center;
  }
}
