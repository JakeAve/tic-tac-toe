import{resetGame as t}from"./game.js";import"./dialogPolyfill.js";let a=!1,l=!1,c="easy",s=()=>{};const i=()=>{s();var e=t({isArtificialOponent:a,isArtificialX:l,onWin:b,onCatsGame:w,difficultyLevel:c})["endGame"];s=e},e=document.querySelector("#reset"),o=(e.addEventListener("click",i),document.querySelector("#game-settings-dialog"));var r=()=>{o.showModal();const e=u();n.addEventListener("click",()=>{m.checked=e.shouldUseArtificialOponent,f.checked=e.shouldArtificialBeX,[m,f].forEach(e=>e.dispatchEvent(new Event("change"))),o.close()},{once:!0})};const d=document.querySelector("#open-settings"),n=document.querySelector("#cancel-settings"),g=(d.addEventListener("click",r),document.querySelector("#game-settings-form")),u=()=>{var e,t;let s=!1,a=!1,l="hard";for([e,t]of new FormData(g))"artificial-oponent"===e&&"on"===t&&(s=!0),"artificial-oponent-letter"===e&&"x"===t&&(a=!0),"difficulty"===e&&(l=t);return{shouldUseArtificialOponent:s,shouldArtificialBeX:a,difficultyLevel:l}},m=(o.addEventListener("submit",()=>{var{shouldUseArtificialOponent:e,shouldArtificialBeX:t,difficultyLevel:s}=u();a=e,l=t,c=s,i()}),document.querySelector("#ai-on-toggle")),f=document.querySelector("#ai-letter-toggle"),p=document.querySelector("#difficulty-select"),h=[m,f],y=(h.forEach(e=>e.addEventListener("change",e=>{e.target.checked?e.target.closest(".toggle-wrapper").classList.add("checked"):e.target.closest(".toggle-wrapper").classList.remove("checked"),"ai-on-toggle"===e.target.id&&e.target.checked&&(f.closest(".toggle-wrapper").classList.remove("disabled"),f.closest(".switch-and-label").classList.remove("disabled"),p.closest(".select-wrapper").classList.remove("disabled"),f.disabled=!1,p.disabled=!1),"ai-on-toggle"!==e.target.id||e.target.checked||(f.closest(".toggle-wrapper").classList.add("disabled"),f.closest(".switch-and-label").classList.add("disabled"),p.closest(".select-wrapper").classList.add("disabled"),f.disabled=!0,p.disabled=!0)})),document.querySelector("#message-dialog")),v=document.querySelector("#close-message-dialog"),L=(e,t,s="Close")=>{y.querySelector("h2").textContent=e,y.querySelector("p").textContent=t,v.textContent=s,y.showModal()};v.addEventListener("click",()=>y.close());const b=e=>{L("Gotchya 👌",e.toUpperCase()+" wins!","Try again")},w=()=>{L("Cat's Game 🐈","It's a cat's game!","Keep trying")};i(),r();